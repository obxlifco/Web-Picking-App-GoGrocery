<form #freeShip="ngForm" novalidate (ngSubmit)="freeShip.valid && addEditFreeShip(freeShip)">
	<input type="hidden" name="shipping_id" [(ngModel)]="formModel.shipping_id">
	<div class="md-toolbar-tools">
		<h2 mat-dialog-title>{{(data.ship_type==1)?'Flat':'Free'}} Shipping Method </h2>
		<button type="submit" mat-raised-button class="btn-main hidden-sm hidden-xs">Save</button>
		<button type="button" mat-raised-button class="btn-line hidden-sm hidden-xs" (click)="closeDialog()">Cancel</button>
	</div>
	<mat-dialog-content>
		<div class="alert alert-success" *ngIf="successMsg">{{successMsg}}</div>
   		<div class="alert alert-danger" *ngIf="errorMsg">{{errorMsg}}</div>
		<div class="pop-body price_setup_dio " layout="column">
			<div class="row">
				<div class="col-md-12"> 
						<mat-form-field appearance="outline" class="md-block">
							<input matInput placeholder="Title" required #title="ngModel" name="title" [(ngModel)]="formModel.title" type="text">
							<mat-error *ngIf="title.errors && title.errors.required">
								This is a
								<strong>required</strong> field
							</mat-error>
						</mat-form-field>
						<div class="row">
							<div class="col-md-12">
								<mat-form-field appearance="outline" class="md-block"><mat-label>Minimum Amount</mat-label>
									<input matInput placeholder="Minimum Amount" required #minimum_order_amount="ngModel" name="minimum_order_amount" [(ngModel)]="formModel.minimum_order_amount" type="number">
									<mat-error *ngIf="minimum_order_amount.errors && minimum_order_amount.errors.required">
										This is a
										<strong>required</strong> field
									</mat-error>
								</mat-form-field>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<mat-form-field appearance="outline" class="md-block"><mat-label>Description</mat-label>
									<textarea matInput placeholder="Description" #description="ngModel" name="description" [(ngModel)]="formModel.description"></textarea>
								</mat-form-field>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<!-- <mat-form-field appearance="outline"><mat-label>Country</mat-label>
									<mat-select placeholder="Country" #country_ids="ngModel" name="country_ids" [(ngModel)]="formModel.country_ids" (ngModelChange)="get_states(formModel.country_ids)">
										<mat-option *ngFor="let country of country_list" [value]="country.id">{{country.country_name}}</mat-option>
									</mat-select>
								</mat-form-field> -->
								<ng-select
									[items]="country_list"
									placeholder="Country"
									bindLabel="country_name" bindValue="id"
									#country_ids="ngModel" name="country_ids" [(ngModel)]="formModel.country_ids"
									(change)="get_states(formModel.country_ids)"
								>
								</ng-select>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<!-- <mat-form-field appearance="outline"><mat-label>State</mat-label>
									<mat-select placeholder="State" #state_id="ngModel" name="state_id" [(ngModel)]="formModel.state_id" multiple>
										<mat-option *ngFor="let state of state_list" [value]="state.id">{{state.state_name}}</mat-option>
									</mat-select>
								</mat-form-field> -->
								<ng-select
									[items]="state_list"
									[multiple]="true"
									placeholder="State"
									bindLabel="state_name" bindValue="id"
									#state_id="ngModel" name="state_id" [(ngModel)]="formModel.state_id"
									style="margin-top: 8px !important"
								>
								<ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
									<div class="ng-value" *ngFor="let item of items | slice:0:1">
											<span class="ng-value-label">{{item.state_name}}</span>
											<span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">Ã—</span>
									</div>
									<div class="ng-value" *ngIf="items.length > 1">
											<span class="ng-value-label">{{items.length - 1}} more...</span>
									</div>
								</ng-template>
								</ng-select>
							</div>
						</div>						
				</div>
			</div>
		
			
		</div>
		<div class="clear"></div>
	</mat-dialog-content>			
	<mat-dialog-actions layout="row">
		<label class="hidden-sm hidden-xs">Fields marked with <span class="error">*</span> are compulsory.</label>
	  	<span flex></span>
	  	<button type="submit" mat-raised-button class="btn-main">Save</button>
		<button type="button" mat-raised-button class="btn-line" (click)="closeDialog()">Cancel</button>
	</mat-dialog-actions>
</form>
