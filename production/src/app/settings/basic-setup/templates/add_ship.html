<form #shipForm="ngForm" novalidate (ngSubmit)="shipForm.valid && addEditShip(shipForm)">
	<input type="hidden" name="shipping_id" [(ngModel)]="formModel.shipping_id">
	<div class="md-toolbar-tools">
		<h2 mat-dialog-title>Flat Shipping Method </h2>
		<button type="submit" mat-raised-button class="btn-main hidden-sm hidden-xs">Save</button>
		<button type="button" mat-raised-button class="btn-line hidden-sm hidden-xs" (click)="closeDialog()">Cancel</button>
	</div>
	<mat-dialog-content>
		<div class="alert alert-success" *ngIf="successMsg">{{successMsg}}</div>
   		<div class="alert alert-danger" *ngIf="errorMsg">{{errorMsg}}</div>
		<div class="pop-body price_setup_dio " layout="column">
			<div class="row">
				<div class="col-md-12"> 
						<mat-form-field appearance="outline" class="md-block"><mat-label>Title</mat-label>
							<input matInput placeholder="Title" required #title="ngModel" name="title" [(ngModel)]="formModel.title" type="text">
							<mat-error *ngIf="title.errors && title.errors.required">
								This is a
								<strong>required</strong> field
							</mat-error>
						</mat-form-field>

						<div class="row">
							<div class="col-md-12">
								<mat-form-field appearance="outline" class="md-block"><mat-label>Description</mat-label>
									<input matInput placeholder="Description" #description="ngModel" name="description" [(ngModel)]="formModel.description">
								</mat-form-field>
							</div>
						</div>

						<div class="row">
							<div class="col-sm-8">
									<mat-form-field appearance="outline" class="md-block"><mat-label>Shipping Charges</mat-label>
										<input matInput placeholder="Shipping Charges" required #flat_price="ngModel" name="flat_price" [(ngModel)]="formModel.flat_price" type="number" min="0">
										<mat-error *ngIf="flat_price.errors && flat_price.errors.required">
											This is a
											<strong>required</strong> field
										</mat-error>
									</mat-form-field>

							</div>
							<div class="col-sm-4">
									<mat-form-field appearance="outline"><mat-label>Type</mat-label>
										<mat-select placeholder="Type" #mthod_type="ngModel" name="mthod_type" [(ngModel)]="formModel.mthod_type" >
											<mat-option value="2">Per Order</mat-option>
											<mat-option value="1">Per Item</mat-option>
										</mat-select>
									</mat-form-field>
							</div>
						</div>
							<div class="row">
							<div class="col-sm-8">
								<mat-form-field appearance="outline" class="md-block"><mat-label>Handling Charges</mat-label>
									<input matInput placeholder="Handling Charges" required #handling_price="ngModel" name="handling_price" [(ngModel)]="formModel.handling_price" type="number" min="0">
									<mat-error *ngIf="handling_price.errors && handling_price.errors.required">
										This is a
										<strong>required</strong> field
									</mat-error>
								</mat-form-field>
							</div>
							<div class="col-sm-4">
									<mat-form-field appearance="outline"><mat-label>Type</mat-label>
										<mat-select placeholder="Type" #handling_fees_type="ngModel" name="handling_fees_type" [(ngModel)]="formModel.handling_fees_type">
											<mat-option value="0">Fixed</mat-option>
											<mat-option value="1">Percent</mat-option>
										</mat-select>
									</mat-form-field>
							</div>
						</div>

						<!-- <div class="row">
							<div class="col-sm-12">
								<label class="example-margin">Shiping Charge for: <span
                                                class="error">*</span>:</label>
							<mat-radio-group #picking_type="ngModel"
		                        name="picking_type" [(ngModel)]="formModel.picking_type"
		                        required>
		                        <mat-radio-button class="example-margin my-1" value="HomeDelivery">Home Delivery
		                        </mat-radio-button>
		                        <mat-radio-button class="example-margin my-1" value="SelfPickup">Self Pickup
		                        </mat-radio-button>
		                     </mat-radio-group>
		                 </div>
						</div> -->

						<div class="row">
							<div class="col-sm-12">
								<mat-form-field appearance="outline" class="md-block"><mat-label>Pickup charge</mat-label>
									<input matInput placeholder="Pickup Charge" required #self_pickup_price="ngModel" name="self_pickup_price" [(ngModel)]="formModel.self_pickup_price" type="number" min="0">
									<mat-error *ngIf="self_pickup_price.errors && self_pickup_price.errors.required">
										This is a
										<strong>required</strong> field
									</mat-error>
								</mat-form-field>
							</div>

						</div>
						
						<div class="row">
							<div class="col-md-12">

								<!-- <ng-select  appendTo="body" [items]="country_list" bindLabel="country_name" bindValue="id" placeholder="Country" #country_ids="ngModel"
								 name="country_ids" (search)="filter_countries($event)" (change)="get_states(formModel.country_ids)" [(ngModel)]="formModel.country_ids">
								</ng-select> -->

								 <!-- <mat-form-field appearance="outline"><mat-label>Country</mat-label>
									<mat-select placeholder="Country" #country_ids="ngModel" name="country_ids" [(ngModel)]="formModel.country_ids" (ngModelChange)="get_states(formModel.country_ids)" required>
										<mat-option *ngFor="let country of country_list" [value]="country.id">{{country.country_name}}</mat-option>
									</mat-select>
								</mat-form-field>  -->
								<ng-select [ngClass]="{ 'custom_error_red': country_ids.errors && country_ids.errors.required && (country_ids.dirty || country_ids.touched || shipForm.submitted) }"
									[items]="country_list"
									required
									placeholder="Country"
									bindLabel="country_name" bindValue="id"
									#country_ids="ngModel" name="country_ids" [(ngModel)]="formModel.country_ids"
									(change)="get_states(formModel.country_ids)"
								>
								</ng-select>
								<p class="custom_error" *ngIf="country_ids.errors && country_ids.errors.required && (country_ids.dirty || country_ids.touched || shipForm.submitted)">This is a <strong>required</strong> field</p>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">

								<!-- <ng-select appendTo="body" [items]="state_list" bindLabel="state_name" placeholder="State" #state_id="ngModel" name="state_id"
								 id="state_id" [(ngModel)]="formModel.state_id" multiple="true">

								<ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
									<div class="ng-value" *ngFor="let item of items | slice:0:3">
										<span class="ng-value-label"> {{item.state_name}}</span>
										<span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
									</div>
									<div class="ng-value" *ngIf="items.length > 3">
										<span class="ng-value-label">{{items.length - 3}} more...</span>
									</div>
								</ng-template>

								</ng-select> -->

								 <!-- <mat-form-field appearance="outline"><mat-label>State</mat-label>
									<mat-select placeholder="State" #state_id="ngModel" name="state_id" [(ngModel)]="formModel.state_id" multiple required>
										<mat-option *ngFor="let state of state_list" [value]="state.id">{{state.state_name}}</mat-option>
									</mat-select>
								</mat-form-field>  -->
								<ng-select [ngClass]="{ 'custom_error_red': state_id.errors && state_id.errors.required && (state_id.dirty || state_id.touched || shipForm.submitted) }"
									[items]="state_list"
									required
									[multiple]="true"
									placeholder="State"
									bindLabel="state_name" bindValue="id"
									#state_id="ngModel" name="state_id" [(ngModel)]="formModel.state_id"
									style="margin-top: 8px !important"
								>
								<ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
									<div class="ng-value" *ngFor="let item of items | slice:0:1">
											<span class="ng-value-label">{{item.state_name}}</span>
											<span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
									</div>
									<div class="ng-value" *ngIf="items.length > 1">
											<span class="ng-value-label">{{items.length - 1}} more...</span>
									</div>
								</ng-template>
								</ng-select>
							</div>
						</div>
						<div clas="row">
								<!-- <mat-form-field appearance="outline">
									<mat-label>Zone</mat-label>
									<mat-select required placeholder="Zone" #zoneId="ngModel" name="zoneId" [(ngModel)]="formModel.zone_id" multiple>
										<mat-option *ngFor="let zone of zone_list" [value]="zone.id">{{zone.name}}</mat-option>
									</mat-select>
									<mat-error *ngIf="zoneId.errors && zoneId.errors.required">Please select zone</mat-error>
								</mat-form-field> -->
								<ng-select [ngClass]="{ 'custom_error_red': zoneId.errors && zoneId.errors.required && (zoneId.dirty || zoneId.touched || shipForm.submitted) }"
									[items]="zone_list"
									required
									[multiple]="true"
									placeholder="Zone"
									bindLabel="name" bindValue="id"
									#zoneId="ngModel" name="zoneId" [(ngModel)]="formModel.zone_id"
									style="margin-top: 8px !important"
								>
								<ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
									<div class="ng-value" *ngFor="let item of items | slice:0:1">
											<span class="ng-value-label">{{item.name}}</span>
											<span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
									</div>
									<div class="ng-value" *ngIf="items.length > 1">
											<span class="ng-value-label">{{items.length - 1}} more...</span>
									</div>
								</ng-template>
								</ng-select>
								<p class="custom_error" *ngIf="zoneId.errors && zoneId.errors.required && (zoneId.dirty || zoneId.touched || shipForm.submitted)">Please select zone</p>
						</div>
					<!-- 	<div class="row">
							<div class="col-md-12">
								<mat-form-field appearance="outline" class="md-block"><mat-label>Ship Within Days</mat-label>
									<input matInput placeholder="Ship Within Days" required #dispatch_time_max="ngModel" name="dispatch_time_max" [(ngModel)]="formModel.dispatch_time_max" type="number">
									<mat-error *ngIf="dispatch_time_max.errors && dispatch_time_max.errors.required">
										This is a
										<strong>required</strong> field
									</mat-error>
								</mat-form-field>
							</div>
						</div> -->
				</div>
			</div>
		
			
		</div>
		<div class="clear"></div>
	</mat-dialog-content>			
	<mat-dialog-actions layout="row">
		<label class="hidden-sm hidden-xs">Fields marked with <span class="error">*</span> are compulsory.</label>
	  	<span flex></span>
	  	<button type="submit" mat-raised-button class="btn-main">Save</button>
		<button type="button" mat-raised-button class="btn-line" (click)="closeDialog()">Cancel</button>
	</mat-dialog-actions>
</form>
